@using ProjectManager.Common.Models
@model ProjectSearchViewModel

<style>
    table {
        font-family: arial, sans-serif;
        border-collapse: collapse;
        width: 100%;
    }
    td, th {
        border: 1px solid #dddddd;
        text-align: left;
        padding: 8px;
    }
</style>

<style>
    deleteButton{
        display: -moz-inline-stack;
        display: inline-block;
        width: 391px;
        height: 62px;
        line-height: 62px;
        vertical-align: text-middle;
        text-align: center;
        color: #ebe6eb;
        font-family: Zenhei;
        font-size: 14px;
        font-weight: normal;
        font-style: normal;
        text-shadow: #222222 1px 1px 0;
    }
    deleteButton:hover{
     background: #383;
    }
</style>

<div style="border:thin solid black">
    <table id="projectSearchTable">
        <tr>
            <th>Name</th>
            <th>Description</th>
            <th>Owner</th>
            <th>Status</th>
            <th>Start</th>
            <th>End</th>
            <th>Due</th>
            <th></th>
        </tr>
        @foreach (Project project in Model.Projects) {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => project.Name)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => project.Description)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => project.Owner)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => project.Status)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => project.StartDate)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => project.EndDate)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => project.DueDate)
                </td>
                <td>
                    <input type="button" value="Delete" onclick="DeleteProject(@project.Id.ToString())">
                </td>
            </tr>
        }
    </table>
</div>

<script>
    function DeleteProject(id, model){
        $.post("/Projects/DeleteProject", { projectId: id });
    }
</script>

<script type="text/javascript" src="//code.jquery.com/jquery-3.6.0.js"></script>